// Generated by CoffeeScript 1.6.1
/*
jQuery.ya-fixed-table-header.js
Yet Another Fixed Table Header
A plugin for creating scrollable tables with fixed headers
version 1.0, March 26, 2013
by Kevin Whitaker
*/(function(e){var t;e.yaFixedHeader={defaults:{height:"auto",width:"auto",wrapClasses:"",headerClasses:"",cellClasses:"",paddedTable:!1}};e.fn.yaFixedHeader=function(n){var r=this;n=e.extend({},e.yaFixedHeader.defaults,n);n.paddedTable===!0&&(n.wrapClasses=n.wrapClasses.concat(" padded-table"));return this.each(function(){var i,s,o,u,a,f,l;if(e("thead",r).length>0){f='<div class="ya-fixed-header-wrap '+n.wrapClasses+'"/>';o=e(f).insertBefore(r);e(r).detach().appendTo(o);n.height!=="auto"?u=n.height:u=o.parent().height()-o.parent().offset().top+o.offset().top;if(n.width==="auto"||"100%")if(n.paddedTable===!0){l=o.parent().width()+(o.parent().outerWidth()-o.parent().width());a=-(o.parent().outerWidth()-o.parent().width())/2}else{l=o.parent().width();a=0}o.css({width:l,height:u,"margin-left":a});s='<header class="ya-fixed-header-header clear '+n.headerClasses+'"/>';i=e(s).prependTo(o);i.css({top:o.parent().offset().top,left:o.offset().left,width:o.width()});e("thead th",r).each(function(t,r){var s,o,u,a;r=e(r);o=r.parents("table");u=parseInt(o.css("margin-left"));a='<div class="ya-fixed-header-cell '+n.cellClasses+'">'+r.html()+"</div>";s=e(a).appendTo(i);return setTimeout(function(){s.css({width:r.outerWidth(),height:r.outerHeight(),padding:r.css("padding"),"padding-left":parseInt(r.css("padding-left"))+u});return r.data({headerCell:s,table:o})})});e("thead",r).css("visibility","hidden")}if(n.width==="auto"||n.height==="auto")return e(window).on("resize",function(i){var s;s=e(r);return e(window).resize(function(){return t(s,n)})})})};return t=function(t,n){var r,i,s,o,u;i=t.parents(".ya-fixed-header-wrap");r=e(".ya-fixed-header-header",i);if(n.width==="auto"||"100%")if(n.paddedTable===!0){u=i.parent().width()+(i.parent().outerWidth()-i.parent().width());o=-(i.parent().outerWidth()-i.parent().width())/2}else{u=i.parent().width();o=0}if(n.height==="auto"||"100%")s=i.parent().height()-i.parent().offset().top+i.offset().top;i.css({width:u,height:s,"margin-left":o});r.css({width:i.width(),top:i.parent().offset().top});return e("thead th",t).each(function(n,r){var i,s;r=e(r);i=e(r.data("headerCell"));t=e(r.data("table"));s=parseInt(t.css("margin-left"));return i.css({width:r.outerWidth(),height:r.outerHeight(),padding:r.css("padding"),"padding-left":parseInt(r.css("padding-left"))+s})})}})(jQuery);