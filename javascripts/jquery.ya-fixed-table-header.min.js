// Generated by CoffeeScript 1.6.1
/*
jQuery.ya-fixed-table-header.js
Yet Another Fixed Table Header
A plugin for creating scrollable tables with fixed headers
version 1.0, March 26, 2013
by Kevin Whitaker
*/
(function(){(function(e){var t,n;e.yaFixedHeader={defaults:{height:"auto",width:"auto",wrapClasses:"",headerClasses:"",cellClasses:"",paddedTable:false}};e.fn.yaFixedHeader=function(r){var i=this;r=e.extend({},e.yaFixedHeader.defaults,r);if(r.paddedTable===true){r.wrapClasses=r.wrapClasses.concat(" padded-table")}return this.each(function(){var s,o,u,a,f,l,c;if(e("thead",i).length>0){l='<div class="ya-fixed-header-wrap '+r.wrapClasses+'"/>';u=e(l).insertBefore(i);e(i).detach().appendTo(u);if(r.height!=="auto"){a=r.height}else{a=u.parent().height()-u.parent().offset().top+u.offset().top}if(r.width==="auto"||"100%"){if(r.paddedTable===true){c=u.parent().width()+(u.parent().outerWidth()-u.parent().width());f=-(u.parent().outerWidth()-u.parent().width())/2}else{c=u.parent().width();f=0}}u.css({width:c,height:a,"margin-left":f});o='<header class="ya-fixed-header-header '+r.headerClasses+'"/>';s=e(o).prependTo(u);e("thead th",i).each(function(t,n){var i,o,u,a;n=e(n);o=n.parents("table");u=parseInt(o.css("margin-left"));a='<div class="ya-fixed-header-cell '+r.cellClasses+'">'+n.html()+"</div>";i=e(a).appendTo(s);return setTimeout(function(){i.css({width:n.outerWidth(),height:n.height(),padding:n.css("padding"),"padding-left":parseInt(n.css("padding-left"))+u,"text-align":n.css("text-align")});return n.data({headerCell:i,table:o})})});e("thead",i).css("visibility","hidden")}if(r.width===("auto"||"100%")||r.height===("auto"||"100%")){e(window).on("resize",function(n){var s;s=e(i);return e(window).resize(function(){return t(s,r)})})}return e(u).scroll(function(){return n(u,s)})})};t=function(t,n){var r,i,s,o,u;i=t.parents(".ya-fixed-header-wrap");r=e(".ya-fixed-header-header",i);if(n.width==="auto"||"100%"){if(n.paddedTable===true){u=i.parent().width()+(i.parent().outerWidth()-i.parent().width());o=-(i.parent().outerWidth()-i.parent().width())/2}else{u=i.parent().width();o=0}}if(n.height==="auto"||"100%"){s=i.parent().height()-i.parent().offset().top+i.offset().top}else{s=n.height}i.css({width:u,height:s,"margin-left":o});return e("thead th",t).each(function(n,r){var i,s;r=e(r);i=e(r.data("headerCell"));t=e(r.data("table"));s=parseInt(t.css("margin-left"));return i.css({width:r.outerWidth(),height:r.height(),padding:r.css("padding"),"padding-left":parseInt(r.css("padding-left"))+s})})};return n=function(e,t){t.css("top",e.scrollTop());return false}})(jQuery)}).call(this)